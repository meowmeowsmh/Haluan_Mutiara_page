<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact | Haluan Mutiara</title>
<!-- External Resources -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<link rel="stylesheet" href="css/design.css">
<link rel="stylesheet" href="css/chat-bot-design.css">
<link rel="icon" type="image/jpeg" href="Other_picture/icon_haluan_mutiara.jpeg">
<style>
  /* ========== CONTACT PAGE STYLES ========== */
  .contact-hero {
    background: linear-gradient(rgba(93, 64, 55, 0.85), rgba(139, 69, 19, 0.9)), 
                url('https://images.unsplash.com/photo-1528164344705-47542687000d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
    background-size: cover;
    background-position: center;
    text-align: center;
    padding: 100px 20px;
    margin-bottom: 40px;
    color: #fff;
  }

  .contact-hero h1 {
    font-size: 3rem;
    margin-bottom: 15px;
    font-weight: 700;
    color: white;
  }

  .contact-hero p {
    font-size: 1.3rem;
    max-width: 700px;
    margin: 0 auto 30px;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.9);
  }

  .contact-section {
    padding: 60px 20px;
    background: #fff8f0;
    max-width: 1200px;
    margin: 0 auto;
  }

  .contact-wrapper {
    display: grid;
    grid-template-columns: 1fr;
    gap: 40px;
    margin-bottom: 60px;
  }

  @media (min-width: 992px) {
    .contact-wrapper {
      grid-template-columns: 1fr 1fr;
    }
  }

  .quote-card, .info-card {
    background: #fff;
    padding: 40px 35px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  }

  .quote-card h2, .info-card h2 {
    color: #5d4037;
    margin-bottom: 30px;
    font-size: 2rem;
    display: flex;
    align-items: center;
    gap: 15px;
    padding-bottom: 15px;
    border-bottom: 3px solid #8b4513;
  }

  .quote-card h2 i, .info-card h2 i {
    color: #8b4513;
    font-size: 1.8rem;
  }

  .quote-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .form-label {
    font-weight: 600;
    color: #5d4037;
    font-size: 0.95rem;
  }

  .form-input, .form-select, .form-textarea {
    padding: 14px 18px;
    border-radius: 8px;
    border: 1px solid #d7ccc8;
    background: #fffaf5;
    font-size: 1rem;
    color: #5d4037;
    font-family: 'Poppins', sans-serif;
    transition: all 0.3s ease;
  }

  .form-input:focus, .form-select:focus, .form-textarea:focus {
    outline: none;
    border-color: #8b4513;
    box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
  }

  .form-textarea {
    min-height: 150px;
    resize: vertical;
  }

  .form-select {
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%235d4037' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 18px center;
    background-size: 16px;
    padding-right: 45px;
  }

  .submit-btn {
    background: #8b4513;
    color: #fff;
    border: none;
    padding: 16px 30px;
    border-radius: 30px;
    font-weight: 600;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-top: 10px;
  }

  .submit-btn:hover {
    background: #a0522d;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(139, 69, 19, 0.2);
  }

  .submit-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none !important;
  }

  .contact-info-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 25px;
  }

  .contact-info-item {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    padding-bottom: 25px;
    border-bottom: 1px solid #f0e6df;
  }

  .contact-info-item:last-child {
    border-bottom: none;
  }

  .contact-icon {
    background: #8b4513;
    color: #fff;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    flex-shrink: 0;
  }

  .contact-details h3 {
    color: #5d4037;
    margin: 0 0 8px;
    font-size: 1.2rem;
  }

  .contact-details p, .contact-details a {
    color: #8b5e3c;
    margin: 0;
    line-height: 1.6;
    text-decoration: none;
  }

  .contact-details a:hover {
    color: #a0522d;
    text-decoration: underline;
  }

  .social-links {
    display: flex;
    gap: 15px;
    margin-top: 30px;
    padding-top: 30px;
    border-top: 1px solid #f0e6df;
  }

  .social-link {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: #fff8f0;
    color: #5d4037;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .social-link:hover {
    background: #8b4513;
    color: #fff;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(139, 69, 19, 0.2);
  }

  .business-hours {
    margin-top: 30px;
    padding-top: 30px;
    border-top: 1px solid #f0e6df;
  }

  .business-hours h3 {
    color: #5d4037;
    margin-bottom: 15px;
    font-size: 1.3rem;
  }

  .hours-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-top: 15px;
  }

  .hour-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px dashed #e0d6cc;
  }

  .day {
    color: #5d4037;
    font-weight: 500;
  }

  .time {
    color: #8b5e3c;
    font-weight: 600;
  }

  .map-section {
    margin-top: 60px;
    padding-top: 60px;
    border-top: 1px solid #e0d6cc;
  }

  .map-section h2 {
    color: #5d4037;
    margin-bottom: 30px;
    font-size: 2rem;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
  }

  .map-container {
    height: 450px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    background: #f5f1eb;
    position: relative;
  }

  .map-iframe {
    width: 100%;
    height: 100%;
    border: none;
    position: absolute;
    top: 0;
    left: 0;
    display: block;
  }

  .map-overlay {
    position: absolute;
    bottom: 20px;
    left: 20px;
    background: rgba(255, 255, 255, 0.95);
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    pointer-events: none;
    max-width: 300px;
    border-left: 4px solid #8b4513;
  }

  .map-overlay h3 {
    margin: 0 0 5px 0;
    color: #5d4037;
    font-size: 1.1rem;
  }

  .map-overlay p {
    margin: 0;
    color: #8b5e3c;
    font-size: 0.9rem;
    line-height: 1.5;
  }

  .map-buttons {
    display: flex;
    gap: 10px;
    margin-top: 20px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .map-btn {
    padding: 12px 25px;
    background: #8b4513;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 0.95rem;
    font-weight: 500;
    transition: all 0.3s ease;
    text-decoration: none;
  }

  .map-btn:hover {
    background: #a0522d;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3);
  }

  .map-btn i {
    font-size: 1.1rem;
  }

  #message-container {
    margin-top: 20px;
  }

  .success-message {
    background: #d4edda;
    color: #155724;
    padding: 18px 20px;
    border-radius: 8px;
    border: 1px solid #c3e6cb;
    display: flex;
    align-items: center;
    gap: 12px;
    animation: fadeIn 0.3s ease;
  }

  .error-message {
    background: #f8d7da;
    color: #721c24;
    padding: 18px 20px;
    border-radius: 8px;
    border: 1px solid #f5c6cb;
    display: flex;
    align-items: center;
    gap: 12px;
    animation: fadeIn 0.3s ease;
  }

  /* Form validation styles */
  .form-input.error, .form-select.error, .form-textarea.error {
    border-color: #e74c3c;
    background-color: #ffeaea;
  }

  .field-error {
    color: #e74c3c;
    font-size: 0.85rem;
    margin-top: 5px;
    display: flex;
    align-items: center;
    gap: 5px;
  }

  /* Success message enhancements */
  .success-content {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    width: 100%;
  }

  .success-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
    flex-wrap: wrap;
  }

  .download-btn, .email-btn {
    padding: 8px 16px;
    border-radius: 5px;
    border: none;
    font-size: 0.9rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
  }

  .download-btn {
    background: #27ae60;
    color: white;
  }

  .download-btn:hover {
    background: #219653;
    transform: translateY(-2px);
  }

  .email-btn {
    background: #3498db;
    color: white;
  }

  .email-btn:hover {
    background: #2980b9;
    transform: translateY(-2px);
  }

  /* Response status styles */
  .response-status {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 10px;
    margin: 30px 0;
    border-left: 4px solid #8b4513;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
  }

  .status-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
  }

  .status-header i {
    color: #8b4513;
    font-size: 1.5rem;
  }

  .status-header h3 {
    color: #5d4037;
    margin: 0;
  }

  .status-bar {
    height: 8px;
    background: #e0e0e0;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .status-fill {
    height: 100%;
    background: linear-gradient(90deg, #27ae60, #2ecc71);
    border-radius: 4px;
    width: 90%;
  }

  .status-info {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    color: #666;
  }

  .live-status {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-top: 20px;
  }

  .status-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    background: white;
    border-radius: 5px;
    border: 1px solid #eee;
  }

  .online {
    color: #27ae60;
  }

  /* Quick contact buttons */
  .quick-contact {
    margin-bottom: 30px;
  }

  .quick-contact h3 {
    color: #5d4037;
    margin-bottom: 15px;
    font-size: 1.3rem;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .quick-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
  }

  .quick-btn {
    padding: 15px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: all 0.3s ease;
    font-size: 0.95rem;
  }

  .quick-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  }

  .quick-btn.urgent { background: #fff3cd; color: #856404; border: 2px solid #ffeaa7; }
  .quick-btn.catalog { background: #d4edda; color: #155724; border: 2px solid #c3e6cb; }
  .quick-btn.measure { background: #d1ecf1; color: #0c5460; border: 2px solid #bee5eb; }
  .quick-btn.sample { background: #f8d7da; color: #721c24; border: 2px solid #f5c6cb; }

  /* Resource cards */
  .related-content {
    margin: 60px 0;
  }

  .related-content h2 {
    color: #5d4037;
    margin-bottom: 30px;
    font-size: 2rem;
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .resource-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }

  .resource-card {
    background: white;
    padding: 25px 20px;
    border-radius: 10px;
    text-align: center;
    text-decoration: none;
    color: #5d4037;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .resource-card:hover {
    border-color: #8b4513;
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .resource-card i {
    font-size: 2rem;
    color: #8b4513;
    margin-bottom: 15px;
  }

  .resource-card h4 {
    margin-bottom: 8px;
    font-size: 1.1rem;
  }

  .resource-card p {
    color: #8b5e3c;
    font-size: 0.9rem;
    margin: 0;
  }

  /* Animation for form submission */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .fa-spin {
    animation: spin 1s linear infinite;
  }

  /* Modal styles */
  .modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 20px;
  }
  
  .modal.active {
    display: flex;
    animation: fadeIn 0.3s ease;
  }
  
  .modal-content {
    background: white;
    padding: 30px;
    border-radius: 10px;
    max-width: 500px;
    width: 100%;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  }
  
  .modal-close {
    background: #8b4513;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 20px;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .modal-close:hover {
    background: #a0522d;
  }

  /* Loading overlay */
  .loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 2000;
  }

  .loading-overlay.active {
    display: flex;
  }

  .loading-spinner {
    width: 60px;
    height: 60px;
    border: 5px solid #f3f3f3;
    border-top: 5px solid #8b4513;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  /* Mobile Navigation Styles */
  @media (max-width: 768px) {
    .nav-links {
      display: none;
      position: absolute;
      top: 80px;
      left: 0;
      width: 100%;
      background: #5d4037;
      flex-direction: column;
      padding: 20px 0;
      z-index: 1000;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .nav-links.show {
      display: flex;
    }
    
    .nav-links li {
      margin: 10px 0;
      text-align: center;
    }
    
    .nav-links a {
      color: white;
      padding: 10px 20px;
      display: block;
    }
    
    .nav-links a:hover {
      background: rgba(255,255,255,0.1);
    }
    
    .hamburger {
      display: flex;
      flex-direction: column;
      cursor: pointer;
      padding: 5px;
    }
    
    .hamburger span {
      width: 25px;
      height: 3px;
      background: #5d4037;
      margin: 3px 0;
      transition: 0.3s;
      display: block;
    }
    
    .hamburger.active span {
      background: #8b4513;
    }

    .contact-hero h1 {
      font-size: 2.2rem;
    }
    
    .contact-hero p {
      font-size: 1.1rem;
    }
    
    .quote-card, .info-card {
      padding: 30px 25px;
    }
    
    .map-container {
      height: 350px;
    }
    
    .map-overlay {
      left: 10px;
      right: 10px;
      max-width: none;
      bottom: 10px;
    }
    
    .hours-grid {
      grid-template-columns: 1fr;
    }
    
    .quick-buttons, .resource-cards {
      grid-template-columns: 1fr;
    }
    
    .status-info {
      flex-direction: column;
      gap: 5px;
    }
    
    .live-status {
      grid-template-columns: 1fr;
    }
    
    .map-buttons {
      flex-direction: column;
    }
    
    .map-btn {
      width: 100%;
      justify-content: center;
    }

    .success-actions {
      flex-direction: column;
    }

    .download-btn, .email-btn {
      width: 100%;
      justify-content: center;
    }
  }

  /* Footer fix */
  .site-footer {
    background: #5d4037;
    color: white;
    padding: 40px 20px;
    margin-top: 60px;
    text-align: center;
  }

  .footer-content {
    max-width: 1200px;
    margin: 0 auto;
  }

  .footer-logo {
    font-size: 1.8rem;
    font-weight: bold;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
  }

  .site-footer p {
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 10px;
  }

  .site-footer a {
    color: white;
    text-decoration: none;
    margin: 0 10px;
  }

  .site-footer a:hover {
    text-decoration: underline;
  }

  .copyright {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.6);
  }

  /* Permanent glow for Contact link on ALL pages */
.nav-links a[href="contact.html"] {
    color: #f4e4c1 !important;
    text-shadow: 0 0 10px #f4e4c1, 
                 0 0 20px #ffaa00, 
                 0 0 30px #8b4513 !important;
    font-weight: 700;
    position: relative;
    animation: permanentContactGlow 1.5s ease-in-out infinite;
}

@keyframes permanentContactGlow {
    0% { text-shadow: 0 0 10px #f4e4c1, 0 0 20px #8b4513; }
    50% { text-shadow: 0 0 15px #ffd700, 0 0 30px #8b4513, 0 0 45px #ffaa00; }
    100% { text-shadow: 0 0 10px #f4e4c1, 0 0 20px #8b4513; }
}

/* Make sure it doesn't get overwritten */
.nav-links a[href="contact.html"].active {
    color: #f4e4c1 !important;
    text-shadow: 0 0 10px #f4e4c1, 0 0 20px #8b4513, 0 0 30px #ffaa00 !important;
}
</style>
</head>
<body>

<!-- Navigation -->
<header>
    <nav class="nav-bar">
        <div class="logo">
            <img src="Other_picture/logo-main-page.png" alt="Haluan Mutiara Logo">
            <h1 class="site-title">Haluan Mutiara</h1>
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="gallery.html">Gallery</a></li>
            <li><a href="contact.html" class="active">Contact</a></li>
        </ul>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>
</header>

<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner"></div>
</div>

<!-- FAQ Modal -->
<div class="modal" id="faqModal">
    <div class="modal-content">
        <h3><i class="fas fa-question-circle"></i> Frequently Asked Questions</h3>
        <div style="margin: 20px 0;">
            <h4>1. What are your delivery times?</h4>
            <p>Delivery typically takes 3-7 business days depending on location.</p>
            
            <h4>2. Do you offer installation services?</h4>
            <p>Yes, we provide professional installation for all our products.</p>
            
            <h4>3. What payment methods do you accept?</h4>
            <p>We accept bank transfer, credit cards, and cash on delivery.</p>
            
            <h4>4. Can I request custom sizes?</h4>
            <p>Yes, we can customize sizes according to your requirements.</p>
        </div>
        <button class="modal-close" onclick="closeModal()">Close</button>
    </div>
</div>

<main>
    <section class="contact-hero">
        <h1>Contact Haluan Mutiara</h1>
        <p>Get in touch for timber solutions, quotations, and professional advice for your project</p>
    </section>

    <section class="contact-section">
        <!-- Quick Contact Section -->
        <div class="quick-contact">
            <h3><i class="fas fa-bolt"></i> Quick Contact</h3>
            <div class="quick-buttons">
                <button onclick="quickRequest('urgent')" class="quick-btn urgent">
                    <i class="fas fa-exclamation-circle"></i> Urgent Inquiry
                </button>
                <button onclick="downloadCatalog()" class="quick-btn catalog">
                    <i class="fas fa-download"></i> Download Catalog
                </button>
                <button onclick="quickRequest('measure')" class="quick-btn measure">
                    <i class="fas fa-ruler"></i> Measurement Help
                </button>
                <button onclick="quickRequest('sample')" class="quick-btn sample">
                    <i class="fas fa-box-open"></i> Request Sample
                </button>
            </div>
        </div>

        <!-- Response Status -->
        <div class="response-status">
            <div class="status-header">
                <i class="fas fa-clock"></i>
                <h3>Current Response Time</h3>
            </div>
            <div class="status-indicator">
                <div class="status-bar">
                    <div class="status-fill"></div>
                </div>
                <div class="status-info">
                    <span class="status-text"><strong>90%</strong> of inquiries answered within 2 hours</span>
                    <span class="status-time">Average response: <strong>45 minutes</strong></span>
                </div>
            </div>
            <div class="live-status">
                <div class="status-item">
                    <i class="fas fa-phone-volume" style="color: #27ae60;"></i>
                    <span>Phone lines: <strong class="online">Open</strong></span>
                </div>
                <div class="status-item">
                    <i class="fas fa-envelope" style="color: #27ae60;"></i>
                    <span>Email support: <strong class="online">Active</strong></span>
                </div>
            </div>
        </div>

        <div class="contact-wrapper">
            <div class="quote-card">
                <h2><i class="fas fa-file-quote"></i> Request a Quote</h2>
                <form class="quote-form" id="quote-form">
                    <div class="form-group">
                        <label class="form-label" for="name">Full Name *</label>
                        <input type="text" id="name" name="name" class="form-input" placeholder="Enter your full name" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" class="form-input" placeholder="e.g., +60 12-345 6789" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="email">Email Address</label>
                        <input type="email" id="email" name="email" class="form-input" placeholder="Enter your email (optional)">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="wood_type">Wood Type *</label>
                        <select id="wood_type" name="wood_type" class="form-select" required>
                            <option value="">-- Select Wood Type --</option>
                            <optgroup label="Premium Structural Timber (SG1-SG5)">
                                <option value="Belian">Belian (Ironwood) - SG1</option>
                                <option value="Balau">Balau - SG1</option>
                                <option value="Chengal">Chengal - SG1</option>
                                <option value="Penaga">Penaga - SG1</option>
                                <option value="Selangan_Batu">Selangan Batu - SG2</option>
                                <option value="Kekatong">Kekatong - SG2</option>
                                <option value="Kempas">Kempas - SG3</option>
                                <option value="Merbau">Merbau - SG4</option>
                                <option value="Resak">Resak - SG4</option>
                                <option value="Tembusu">Tembusu - SG5</option>
                            </optgroup>
                            <optgroup label="Treated Timber (Requires Treatment)">
                                <option value="Keruing">Keruing</option>
                                <option value="Meranti">Meranti (Dark Red)</option>
                                <option value="Nyatoh">Nyatoh</option>
                                <option value="Kapur">Kapur</option>
                                <option value="Ramin">Ramin</option>
                            </optgroup>
                            <optgroup label="Finished Products">
                                <option value="Skirting_Boards">Skirting Boards (Type 1-8)</option>
                                <option value="Windows_Doors">Windows & Doors (Type 1-7)</option>
                                <option value="Handrails">Handrails (Type 1-4)</option>
                                <option value="Flooring">Hardwood Flooring</option>
                                <option value="Mouldings">Decorative Mouldings</option>
                                <option value="Ceiling_Panels">Ceiling Panels & Beams</option>
                                <option value="Structural_Timber">MS 544 Structural Timber</option>
                            </optgroup>
                            <optgroup label="Other Species">
                                <option value="Bintangor">Bintangor</option>
                                <option value="Jelutong">Jelutong</option>
                                <option value="Rubberwood">Rubberwood</option>
                                <option value="Batai">Batai</option>
                                <option value="Other">Other Species (Specify in message)</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="message">Project Details *</label>
                        <textarea id="message" name="message" class="form-textarea" placeholder="Tell us about your project, dimensions required, quantity, and any specific requirements..." required></textarea>
                    </div>

                    <button type="submit" class="submit-btn">
                        <i class="fas fa-paper-plane"></i> Submit Quote Request
                    </button>
                </form>
                <div id="message-container"></div>
            </div>

            <div class="info-card">
                <h2><i class="fas fa-address-card"></i> Contact Information</h2>
                
                <ul class="contact-info-list">
                    <li class="contact-info-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Phone Number</h3>
                            <p><a href="tel:+60122786182">(+60) 12-278 6182</a></p>
                            <p style="font-size: 0.9rem; color: #8b5e3c;">Call us for immediate assistance</p>
                        </div>
                    </li>

                    <li class="contact-info-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Email Address</h3>
                            <p><a href="mailto:haluanmutiara@hotmail.com">haluanmutiara@hotmail.com</a></p>
                            <p style="font-size: 0.9rem; color: #8b5e3c;">We respond within 24 hours</p>
                        </div>
                    </li>

                    <li class="contact-info-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Business Address</h3>
                            <p>Jalan Ikan Bawal<br> Kampung Telok Gong<br> 42000 Pelabuhan Klang<br> Selangor, Malaysia</p>
                        </div>
                    </li>
                </ul>

                <div class="business-hours">
                    <h3>Business Hours</h3>
                    <div class="hours-grid">
                        <div class="hour-item">
                            <span class="day">Monday - Friday</span>
                            <span class="time">8:00 AM - 6:00 PM</span>
                        </div>
                        <div class="hour-item">
                            <span class="day">Saturday</span>
                            <span class="time">9:00 AM - 4:00 PM</span>
                        </div>
                        <div class="hour-item">
                            <span class="day">Sunday</span>
                            <span class="time">Closed</span>
                        </div>
                        <div class="hour-item">
                            <span class="day">Public Holidays</span>
                            <span class="time">By Appointment</span>
                        </div>
                    </div>
                </div>

                <div class="social-links">
                    <a href="https://wa.me/60122786182" target="_blank" class="social-link" title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="mailto:haluanmutiara@hotmail.com" class="social-link" title="Email">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="tel:+60122786182" class="social-link" title="Call">
                        <i class="fas fa-phone"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Related Resources Section -->
        <div class="related-content">
            <h2><i class="fas fa-link"></i> Essential Resources</h2>
            <div class="resource-cards">
                <a href="gallery.html" class="resource-card">
                    <i class="fas fa-images"></i>
                    <h4>Product Gallery</h4>
                    <p>Visual showcase of our timber</p>
                </a>
                <a href="javascript:void(0)" onclick="openFAQ()" class="resource-card">
                    <i class="fas fa-question-circle"></i>
                    <h4>FAQ & Support</h4>
                    <p>Common questions answered</p>
                </a>
                <a href="javascript:void(0)" onclick="downloadCatalog()" class="resource-card">
                    <i class="fas fa-download"></i>
                    <h4>Product Catalog</h4>
                    <p>Complete technical specifications</p>
                </a>
                <a href="javascript:void(0)" onclick="requestConsultation()" class="resource-card">
                    <i class="fas fa-calendar-check"></i>
                    <h4>Free Consultation</h4>
                    <p>Expert advice for your project</p>
                </a>
            </div>
        </div>

        <!-- MAP SECTION WITH WORKING GOOGLE MAPS -->
        <div class="map-section">
            <h2><i class="fas fa-map-marked-alt"></i> Our Location</h2>
            <div class="map-container" id="mapContainer">
                <!-- Google Maps Iframe - SHOWN BY DEFAULT -->
                <iframe 
                    class="map-iframe"
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3983.9220145647675!2d101.39045157604607!3d3.011119196904065!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31ccdd9ddac013f1%3A0x9cefd1b6d955e9b9!2sJalan%20Ikan%20Bawal%2C%20Kampung%20Telok%20Gong%2C%2042000%20Pelabuhan%20Klang%2C%20Selangor%2C%20Malaysia!5e0!3m2!1sen!2smy!4v1709317392610!5m2!1sen!2smy"
                    title="Haluan Mutiara Timber Location - Jalan Ikan Bawal, Kampung Telok Gong, Pelabuhan Klang"
                    allowfullscreen=""
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                ></iframe>
                
                <!-- Address overlay on map -->
                <div class="map-overlay">
                    <h3><i class="fas fa-store"></i> Haluan Mutiara Timber</h3>
                    <p>
                        <i class="fas fa-map-pin" style="color: #8b4513;"></i> 
                        Jalan Ikan Bawal, Kampung Telok Gong<br>
                        42000 Pelabuhan Klang, Selangor<br>
                        <i class="fas fa-phone" style="color: #8b4513;"></i> +60 12-278 6182
                    </p>
                </div>
            </div>
            
            <!-- Map action buttons -->
            <div class="map-buttons">
                <a href="https://www.google.com/maps/search/?api=1&query=Jalan+Ikan+Bawal+Kampung+Telok+Gong+42000+Pelabuhan+Klang+Selangor+Malaysia" target="_blank" class="map-btn">
                    <i class="fab fa-google"></i> Open in Google Maps
                </a>
                <a href="https://www.google.com/maps/dir/?api=1&destination=Jalan+Ikan+Bawal+Kampung+Telok+Gong+42000+Pelabuhan+Klang+Selangor+Malaysia" target="_blank" class="map-btn">
                    <i class="fas fa-directions"></i> Get Directions
                </a>
                <button onclick="showWhatsAppLocation()" class="map-btn">
                    <i class="fab fa-whatsapp"></i> Share via WhatsApp
                </button>
            </div>
        </div>
    </section>
</main>

<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-logo"><i class="fas fa-tree"></i> Haluan Mutiara</div>
        <p>Premium Timber Solutions Since 2000</p>
        <p>
            <a href="mailto:haluanmutiara@hotmail.com">haluanmutiara@hotmail.com</a> | 
            <a href="tel:+60122786182">(+60) 12-278 6182</a>
        </p>
        <div class="copyright">
            &copy; <span class="current-year">2026</span> Haluan Mutiara. All rights reserved.
        </div>
    </div>
</footer>

<!-- WhatsApp Float -->
<a href="https://wa.me/60122786182" class="whatsapp-float" target="_blank" aria-label="Contact us on WhatsApp">
    <i class="fab fa-whatsapp"></i>
</a>

<!-- Modern Oak Timber Chat Interface -->
<div class="chat-helper">
    <!-- Oak wood floating button -->
    <button class="chat-icon-btn" id="chatIconBtn" aria-label="Open timber chat">
        <i class="fas fa-tree"></i>
    </button>
    
    <!-- Oak-themed chat window -->
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <h4><i class="fas fa-seedling"></i> Timber Expert</h4>
            <button class="close-chat" id="closeChatBtn" aria-label="Close chat">Ã—</button>
        </div>
        <div class="chat-body" id="chatBody">
            <!-- Chat messages will appear here -->
        </div>
        <div class="chat-input">
            <input type="text" placeholder="Ask about wood, pricing, or MS 544..." id="chatInput" autocomplete="off">
            <button id="sendBtn" aria-label="Send message">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
</div>

<script>
// ========== MAIN JAVASCRIPT ==========
document.addEventListener('DOMContentLoaded', function() {
    console.log('Haluan Mutiara Contact Page Loaded');
    
    // Initialize mobile navigation
    initNavigation();
    
    // Initialize form handling
    initFormHandling();
    
    // Set current year in footer
    document.querySelector('.current-year').textContent = new Date().getFullYear();
});

// ========== NAVIGATION ==========
function initNavigation() {
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');
    
    if (!hamburger || !navLinks) return;
    
    hamburger.addEventListener('click', function(e) {
        e.stopPropagation();
        navLinks.classList.toggle('show');
        hamburger.classList.toggle('active');
        
        // Animate hamburger to X
        const spans = hamburger.querySelectorAll('span');
        if (navLinks.classList.contains('show')) {
            spans[0].style.transform = 'rotate(45deg) translate(6px, 6px)';
            spans[1].style.opacity = '0';
            spans[2].style.transform = 'rotate(-45deg) translate(6px, -6px)';
        } else {
            spans[0].style.transform = 'none';
            spans[1].style.opacity = '1';
            spans[2].style.transform = 'none';
        }
    });
    
    // Close menu when clicking links
    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
            navLinks.classList.remove('show');
            hamburger.classList.remove('active');
            const spans = hamburger.querySelectorAll('span');
            spans.forEach(span => {
                span.style.transform = 'none';
                span.style.opacity = '1';
            });
        });
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
        if (!hamburger.contains(event.target) && !navLinks.contains(event.target)) {
            navLinks.classList.remove('show');
            hamburger.classList.remove('active');
            const spans = hamburger.querySelectorAll('span');
            spans.forEach(span => {
                span.style.transform = 'none';
                span.style.opacity = '1';
            });
        }
    });
    
    // Set active nav link
    // Set active nav link - BUT KEEP CONTACT GLOWING FOREVER
const currentPage = window.location.pathname.split('/').pop();
const navLinksAll = document.querySelectorAll('.nav-links a');

navLinksAll.forEach(link => {
    // Remove active class from all links EXCEPT Contact
    if (!link.getAttribute('href').includes('contact')) {
        link.classList.remove('active');
    }
    
    const href = link.getAttribute('href');
    
    // Add active class to current page (but Contact already has it)
    if (href === currentPage || 
        (currentPage === '' && href === 'index.html')) {
        link.classList.add('active');
    }
    
    // Make sure Contact ALWAYS has active class
    if (link.getAttribute('href').includes('contact')) {
        link.classList.add('active');
    }
});

// ========== FORM HANDLING ==========
function initFormHandling() {
    const form = document.getElementById('quote-form');
    const messageContainer = document.getElementById('message-container');
    
    if (!form) return;
    
    // Phone number formatting
    const phoneInput = document.getElementById('phone');
    if (phoneInput) {
        phoneInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            
            if (value.startsWith('60')) {
                value = '+60 ' + value.substring(2);
            } else if (value.startsWith('0')) {
                value = '+6' + value;
            } else if (value.length > 0 && !value.startsWith('+')) {
                value = '+60 ' + value;
            }
            
            e.target.value = value.substring(0, 15);
            
            // Validate phone
            const digits = value.replace(/\D/g, '');
            if (digits.length >= 10 && digits.length <= 12) {
                clearFieldError(e.target);
                e.target.classList.remove('error');
            } else if (digits.length > 0) {
                showFieldError(e.target, 'Please enter a valid Malaysian phone number (10-12 digits)');
                e.target.classList.add('error');
            }
        });
    }
    
    // Email validation
    const emailInput = document.getElementById('email');
    if (emailInput) {
        emailInput.addEventListener('blur', function(e) {
            const value = e.target.value.trim();
            if (value && !isValidEmail(value)) {
                showFieldError(e.target, 'Please enter a valid email address');
                e.target.classList.add('error');
            } else {
                clearFieldError(e.target);
                e.target.classList.remove('error');
            }
        });
    }
    
    // Form submission
    form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Validate all required fields
        const name = document.getElementById('name').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const woodType = document.getElementById('wood_type').value;
        const message = document.getElementById('message').value.trim();
        const email = document.getElementById('email').value.trim();
        
        let isValid = true;
        
        // Validate name
        if (!name) {
            showFieldError(document.getElementById('name'), 'Please enter your name');
            document.getElementById('name').classList.add('error');
            isValid = false;
        }
        
        // Validate phone
        const phoneDigits = phone.replace(/\D/g, '');
        if (!phone || phoneDigits.length < 10 || phoneDigits.length > 12) {
            showFieldError(document.getElementById('phone'), 'Please enter a valid Malaysian phone number');
            document.getElementById('phone').classList.add('error');
            isValid = false;
        }
        
        // Validate wood type
        if (!woodType) {
            showFieldError(document.getElementById('wood_type'), 'Please select a wood type');
            document.getElementById('wood_type').classList.add('error');
            isValid = false;
        }
        
        // Validate message
        if (!message || message.length < 10) {
            showFieldError(document.getElementById('message'), 'Please provide more details about your project');
            document.getElementById('message').classList.add('error');
            isValid = false;
        }
        
        // Validate email if provided
        if (email && !isValidEmail(email)) {
            showFieldError(document.getElementById('email'), 'Please enter a valid email address');
            document.getElementById('email').classList.add('error');
            isValid = false;
        }
        
        if (!isValid) {
            showMessage('Please fix the errors above', 'error');
            return;
        }
        
        // Show loading
        const submitBtn = form.querySelector('.submit-btn');
        const originalText = submitBtn.innerHTML;
        const loadingOverlay = document.getElementById('loadingOverlay');
        
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
        submitBtn.disabled = true;
        if (loadingOverlay) loadingOverlay.classList.add('active');
        
        try {
            // Simulate API call
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // Generate quote ID
            const quoteId = 'QM' + Date.now().toString().slice(-8);
            const quoteDate = new Date().toLocaleDateString('en-MY', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // Store in localStorage for demo
            const formData = {
                id: quoteId,
                name: name,
                phone: phone,
                email: email || '',
                wood_type: woodType,
                message: message,
                date: quoteDate,
                status: 'pending'
            };
            
            const existingQuotes = JSON.parse(localStorage.getItem('haluan_quotes') || '[]');
            existingQuotes.push(formData);
            localStorage.setItem('haluan_quotes', JSON.stringify(existingQuotes));
            
            // Show success message
            showMessage(
                `<div class="success-content">
                    <i class="fas fa-check-circle fa-2x" style="color: #27ae60; flex-shrink: 0;"></i>
                    <div style="flex: 1;">
                        <h4 style="margin: 0 0 8px 0; color: #155724;">Quote Request Submitted Successfully!</h4>
                        <p style="margin: 0 0 5px 0; color: #155724;">
                            <strong>Reference Number:</strong> ${quoteId}
                        </p>
                        <p style="margin: 0 0 5px 0; color: #155724;">
                            <strong>Submitted:</strong> ${quoteDate}
                        </p>
                        <p style="margin: 0 0 15px 0; color: #155724;">
                            We will contact you within 24 hours at ${phone}
                        </p>
                        <div class="success-actions">
                            <button onclick="downloadQuote('${quoteId}')" class="download-btn">
                                <i class="fas fa-download"></i> Download Summary
                            </button>
                            <button onclick="sendEmailConfirmation('${quoteId}', '${name}', '${woodType}')" class="email-btn">
                                <i class="fas fa-envelope"></i> Email Confirmation
                            </button>
                        </div>
                    </div>
                </div>`,
                'success'
            );
            
            // Reset form
            form.reset();
            
            // Scroll to message
            messageContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
        } catch (error) {
            console.error('Form submission error:', error);
            showMessage(
                `<i class="fas fa-exclamation-circle"></i> 
                <div>
                    <strong>Submission Error</strong><br>
                    Please try again or contact us directly at 
                    <a href="tel:+60122786182" style="color: #721c24;">+60 12-278 6182</a>
                </div>`,
                'error'
            );
        } finally {
            // Reset button state
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            if (loadingOverlay) loadingOverlay.classList.remove('active');
            
            // Clear any field errors
            clearAllFieldErrors();
        }
    });
}

// ========== HELPER FUNCTIONS ==========
function isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

function showFieldError(input, message) {
    clearFieldError(input);
    const error = document.createElement('div');
    error.className = 'field-error';
    error.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${message}`;
    input.parentNode.appendChild(error);
}

function clearFieldError(input) {
    const error = input.parentNode.querySelector('.field-error');
    if (error) error.remove();
}

function clearAllFieldErrors() {
    document.querySelectorAll('.field-error').forEach(error => error.remove());
    document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(input => {
        input.classList.remove('error');
    });
}

function showMessage(message, type) {
    const container = document.getElementById('message-container');
    if (!container) return;
    
    const messageDiv = document.createElement('div');
    messageDiv.className = type === 'success' ? 'success-message' : 'error-message';
    messageDiv.innerHTML = message;
    
    // Remove any existing messages
    container.innerHTML = '';
    container.appendChild(messageDiv);
    
    // Auto-remove after 8 seconds for success messages
    if (type === 'success') {
        setTimeout(() => {
            if (messageDiv.parentNode === container) {
                messageDiv.style.opacity = '0';
                messageDiv.style.transform = 'translateY(-10px)';
                messageDiv.style.transition = 'all 0.3s ease';
                setTimeout(() => messageDiv.remove(), 300);
            }
        }, 8000);
    }
}

// ========== QUICK REQUEST ==========
function quickRequest(type) {
    const messageBox = document.getElementById('message');
    const woodSelect = document.getElementById('wood_type');

    let text = '';
    switch (type) {
        case 'urgent':
            text = 'URGENT: I need timber urgently. Please contact me as soon as possible.';
            woodSelect.value = 'Merbau';
            break;
        case 'measure':
            text = 'I need help with timber measurements and sizing for my project. Please advise on the best dimensions for:';
            woodSelect.value = '';
            break;
        case 'sample':
            text = 'I would like to request a timber sample for the following wood type:';
            woodSelect.value = 'Chengal';
            break;
    }

    if (messageBox) messageBox.value = text;
    if (woodSelect) woodSelect.focus();
    
    const types = {
        'urgent': 'Urgent Inquiry',
        'measure': 'Measurement Help',
        'sample': 'Sample Request'
    };
    
    showMessage(
        `<i class="fas fa-check-circle"></i> 
        <strong>${types[type]} template loaded.</strong> 
        Fill in the remaining details and submit.`,
        'success'
    );
}

// ========== CATALOG DOWNLOAD ==========
function downloadCatalog() {
    showLoading();
    
    const catalogFileName = `Haluan_Mutiara_Catalog_${new Date().getFullYear()}.txt`;
    
    const catalogContent = `CONTACT INFORMATION

ðŸ“ž Phone / WhatsApp: (+60) 12-278 6182
ðŸ“§ Email: haluanmutiara@hotmail.com

Business Hours
Monday â€“ Friday: 8:00 AM â€“ 6:00 PM
Saturday: 9:00 AM â€“ 4:00 PM

ðŸ“ Address
Jln Ikan Bawal, 
Kampung Telok Gong, 
42000 Pelabuhan Klang, 
Selangor

IMPORTANT PRICING NOTICE
All products are custom quoted - No fixed pricing
Prices depend on wood species, size, quantity, finishing, design complexity
ðŸ“ž Contact us for an accurate quotation

PRODUCT CATEGORIES

CEILING PRODUCTS
- Ceiling Paneling (Merbau) - Premium Malaysian Hardwood
- Natural wood finish - Custom sizes available

MOULDINGS & TRIM
- Door Frame Lipping (Chengal) - Smooth polished
- Stair Nosing (Balau) - Anti-slip surface

HANDRAILS
- Type 1: Balau - Polished smooth
- Type 2: Merbau - High-gloss polish  
- Type 3: Keruing - Matte finish
- Type 4: Chengal - 3D textured design

SKIRTING BOARDS
Types 1-9 available in Merbau, Chengal, Balau, Keruing

FLOORING
- T&G Merbau Flooring - Tongue & Groove system

WINDOWS & DOORS
Types 1-7 in Chengal, Balau, Merbau, Keruing

SERVICES
âœ” Custom fabrication âœ” CNC machining âœ” Precision cutting
âœ” Nationwide delivery âœ” Professional installation
âœ” Technical support âœ” MS 544 guidance

Updated: ${new Date().getFullYear()}
HALUAN MUTIARA â€“ Premium Hardwood Since 2000`;

    setTimeout(() => {
        hideLoading();
        
        try {
            const blob = new Blob([catalogContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = catalogFileName;
            
            showMessage(
                `<div style="display: flex; align-items: flex-start; gap: 15px;">
                    <i class="fas fa-check-circle fa-2x" style="color: #27ae60;"></i>
                    <div>
                        <h4 style="margin: 0 0 10px 0;">Catalog Download Started</h4>
                        <p style="margin: 0;">File: ${catalogFileName}</p>
                    </div>
                </div>`,
                'success'
            );
            
            document.body.appendChild(a);
            a.click();
            
            setTimeout(() => {
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 100);
            
        } catch (error) {
            console.error('Download error:', error);
            showMessage('Download failed. Please try again.', 'error');
        }
    }, 500);
}

// ========== CONSULTATION REQUEST ==========
function requestConsultation() {
    const messageBox = document.getElementById('message');
    
    if (messageBox) {
        messageBox.value = `FREE PROJECT CONSULTATION REQUEST

I would like to schedule a free consultation for my timber project.

Project Type:
Budget Range:
Timeline:
Special Requirements:

Please contact me to discuss material recommendations and technical specifications.`;
    }
    
    showMessage(
        `<i class="fas fa-calendar-check"></i> 
        <strong>Consultation request template loaded.</strong>`,
        'success'
    );
}

// ========== MAP FUNCTIONS ==========
function showWhatsAppLocation() {
    const text = encodeURIComponent(`ðŸ“ *Haluan Mutiara Timber Location*

ðŸ¢ *Address:*
Jalan Ikan Bawal
Kampung Telok Gong
42000 Pelabuhan Klang
Selangor, Malaysia

ðŸ“ž Phone: +60 12-278 6182
ðŸ“§ Email: haluanmutiara@hotmail.com

ðŸ—ºï¸ Google Maps: https://maps.google.com/?q=3.011119,101.392626

*Business Hours:*
Mon-Fri: 8:00 AM - 6:00 PM
Sat: 9:00 AM - 4:00 PM
Sun: Closed`);
    
    window.open(`https://wa.me/?text=${text}`, '_blank');
}

// ========== QUOTE MANAGEMENT ==========
function downloadQuote(quoteId) {
    const quotes = JSON.parse(localStorage.getItem('haluan_quotes') || '[]');
    const quote = quotes.find(q => q.id === quoteId);
    
    if (!quote) {
        showMessage('Quote not found in records.', 'error');
        return;
    }
    
    const content = `
HALUAN MUTIARA - QUOTE REQUEST CONFIRMATION
==============================================

REFERENCE: ${quote.id}
DATE: ${quote.date}

CUSTOMER INFORMATION:
Name: ${quote.name}
Phone: ${quote.phone}
Email: ${quote.email || 'Not provided'}

PRODUCT REQUEST:
Wood Type: ${quote.wood_type}

PROJECT DETAILS:
${quote.message}

Thank you for choosing Haluan Mutiara!
==============================================`;
    
    const blob = new Blob([content], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `quote_${quoteId}.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    showMessage('Quote summary downloaded successfully.', 'success');
}

function sendEmailConfirmation(id, name, wood) {
    const subject = encodeURIComponent(`Quote Request ${id} - Haluan Mutiara`);
    const body = encodeURIComponent(
`Dear ${name},

Thank you for your quote request (Reference: ${id}) for ${wood}.

We have received your inquiry and will process it within 24 hours.

Best regards,
Haluan Mutiara Team`
    );
    
    window.location.href = `mailto:?subject=${subject}&body=${body}`;
}

// ========== LOADING FUNCTIONS ==========
function showLoading() {
    const overlay = document.getElementById('loadingOverlay');
    if (overlay) overlay.classList.add('active');
}

function hideLoading() {
    const overlay = document.getElementById('loadingOverlay');
    if (overlay) overlay.classList.remove('active');
}

// ========== MODAL FUNCTIONS ==========
function openFAQ() {
    const modal = document.getElementById('faqModal');
    if (modal) modal.classList.add('active');
}

function closeModal() {
    const modal = document.getElementById('faqModal');
    if (modal) modal.classList.remove('active');
}

// Close modal when clicking outside
document.addEventListener('click', function(e) {
    const modal = document.getElementById('faqModal');
    if (modal && modal.classList.contains('active') && e.target === modal) {
        modal.classList.remove('active');
    }
});

// Close modal with ESC key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeModal();
    }
});
</script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="js/index.js"></script>
<script src="js/chat-bot.js"></script>
</body>
</html>

